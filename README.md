# Лабораторная среда SDN

В этом документе представлено пошаговое руководство по развертыванию и запуску лабораторной среды SDN. Он охватывает весь процесс от первоначальной настройки до доступа к веб-панели управления.

## Содержание
1. [Предварительные требования](#предварительные-требования)
2. [Быстрое начало](#быстрое-начало)
3. [Инфраструктура виртуальных машин](#инфраструктура-виртуальных-машин)
4. [Веб-панель управления](#веб-панель-управления)

## Предварительные требования

Перед развертыванием лабораторной среды SDN убедитесь, что на вашем хосте разработки установлено следующее программное обеспечение:

| Компонент       | Назначение                          | Ссылка для загрузки              |
|-----------------|-------------------------------------|----------------------------------|
| Vagrant         | Управление виртуальной машиной      | [Скачать Vagrant](https://www.vagrantup.com/downloads) |
| VirtualBox      | Гипервизор виртуальной машины       | [Скачать VirtualBox](https://www.virtualbox.org/wiki/Downloads) |
| Git             | Клонирование репозитория            | Установить через менеджер пакетов |
| Python 3.x      | Выполнение веб-панели управления    | Установить через менеджер пакетов |

**Системные требования:**
- Минимальный объем оперативной памяти — 8 ГБ (4 ГБ на виртуальную машину)
- 20 ГБ свободного места на диске
- Поддержка виртуализации CPU включена в BIOS

## Быстрое начало

### Настройка репозитория

Клонируйте репозиторий и перейдите в каталог проекта:

```bash
git clone https://github.com/ButIdoknowonthingthough/sdn_labs.git
cd sdn_labs
   ```

### Процесс развертывания виртуальной машины

На следующей схеме показана полная последовательность развертывания от клонирования репозитория до запуска сервисов:
[image]

### Основные команды развертывания

Выполните следующую команду для развертывания полной среды:
```bash
vagrant up
   ```
**Эта команда запускает конфигурацию Vagrantfile, которая:**

- Создаёт две виртуальные машины Ubuntu 22.04 с заданной сетевой конфигурацией
- Выполняет controller.sh на виртуальной машине sdn-controller
- Выполняет mininet.sh на виртуальной машине mininet-host

Для последующих запусков без повторной настройки:
```bash
vagrant up --no-provision
   ```

### Проверка доступа по SSH

После завершения развертывания проверьте доступность виртуальной машины:
```bash
# Connect to SDN controller VM
vagrant ssh "sdn-controller"

# Connect to Mininet host VM  
vagrant ssh "mininet-host"
   ```

Обе виртуальные машины поддерживают переадресацию X11 и переадресацию SSH-агента, настроенную в Vagrantfile.

## Запуск веб-панели управления

### Зависимости и запуск сервера
Веб-панель управления обеспечивает централизованное управление лабораторной средой SDN. Запустите ее с помощью прилагаемого пакетного сценария:

```bash
# On Windows
control.bat

# On Unix systems (manual execution)
python -m pip install fastapi uvicorn jinja2 asyncssh
python -m uvicorn app:app --host 127.0.0.1 --port 7860 --reload
   ```
Панель управления будет доступна по адресу http://127.0.0.1:7860 после успешного запуска.
